<!-- ! Result sub template -->


{% if messages %}
{% include './alert.html' %}
{% endif %}

<div class="flex flex-col pb-10">
    <div class="overflow-x-auto sm:-mx-6 lg:-mx-8">
      <div class="inline-block min-w-full py-2 sm:px-6 lg:px-8">
        <div class="overflow-hidden">
          <table
            class="min-w-full text-left text-sm font-light text-surface">
            <thead
              class="border-b border-slate-500 font-medium">
              <tr class="text-center">
                <th scope="col" class="px-6 py-4">CANDIDATE NAME</th>
                <th scope="col" class="px-6 py-4 hidden lg:block">POSTION NAME</th>
                <th scope="col" class="px-6 py-4">NO. OF VOTES</th>
              </tr>
            </thead>
            <tbody>
            {% for position in positions %}

            {% for candidate in candidates  %}

                {% if candidate.position == position %}
                <tr class="border-b border-slate-400 text-center">
                    <td class="whitespace-nowrap px-6 py-4">{{ candidate.name }}</td>
                    <td class="whitespace-nowrap px-6 py-4 hidden lg:block">{{ candidate.position }}</td>
                    <td class="whitespace-nowrap px-6 py-4">{{ candidate.votes }}</td>
                </tr>
              {% endif %}

            {% endfor %}

            {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>


  {% for position in positions %}

  <div class="h-auto mb-4 w-[100%] px-[10%] flex flex-col gap-4 py-8 lg:py-16 rounded-xl bg-violet-200">
  
    {% for candidate in candidates  %}

      {% if candidate.position == position %}

      <div class="flex flex-col lg:flex-row flex-wrap text-left">
        <label class="ml-2 pb-1 font-extralight text-sm" for="{{ candidate.name }}">{{ candidate.name }}</label>
        <progress class="" max="{{voted}}" value="{{candidate.votes}}"></progress>
      </div>          

      {% endif %}

    {% endfor %}
 
  </div>

  {% endfor %}